<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		
		<title>Lo carrer</title>
        
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <!-- width=device-width, height=device-height,-->
        <meta name="viewport" content="user-scalable=no,width=device-width, height=device-height" />

		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile.structure-1.4.2.min.css" />
		<link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />

		<link rel="stylesheet" href="themes/clinicas.min.css" />
		<link rel="stylesheet" href="css/index.css" />
		<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
			
		<script type="text/javascript" charset="utf-8" src="phonegap.js"></script>
		
		<script type="text/javascript" charset="utf-8" src="js/index.js"></script>
		
	</head>
    
	<body>
	<div data-role="page" class="ui-responsive-panel">
		
	        
		<div data-role="header" data-theme="f" data-position-fixed="true">
			<h1>Lo carrer</h1>
			<a href="#nav-panel" data-icon="bars" data-iconpos="notext">Menu</a>
		</div><!-- /header -->
	
		<div data-role="content">
			<div class="ui-grid-a">
				<div class="ui-block-a">
					<button data-role="button" class="ui-btn ui-corner-all" data-theme="f" onclick="startWatch();">Start</button>
				</div>
				
				<div class="ui-block-b">
					<button  class="ui-btn ui-corner-all" data-theme="f" onclick="stopWatch();">Stop</button>
				</div>
			</div>
			
			 <div id="accelerometer">Waiting for accelerometer...</div>
	
		</div><!-- /content -->
	
		<div class="jqm-footer">
	
			<p class="jqm-version"></p>
	
			<p>&copy; 2014 by Globals Design &amp; Development</p>
	
		</div><!-- /jqm-footer -->
	
		<div data-role="panel" data-position="left" data-position-fixed="false" data-display="reveal" id="nav-panel" data-theme="f">
	
			<ul data-role="listview" data-theme="a" data-divider-theme="a" style="margin-top:-16px;" class="nav-search">
				<li data-filtertext="listview autodivider">
					<a href="./index.html">Index</a>
				</li>
				<li data-filtertext="listview autodivider">
					<a href="./prova2.html">Contactar</a>
				</li>
				<li data-filtertext="listview autodivider">
					<a href="./sensor.html">Sensor</a>
				</li>
			</ul>
	
		</div>
	
		<script type="text/javascript" charset="utf-8">
		
			var watchID = null;
		
		    // Wait for Cordova to load
		    //
		    document.addEventListener("deviceready", onDeviceReady, false);
		
		    // Cordova is ready
		    //
		    function onDeviceReady() {
		        startWatch();
		    }
		
		    // Start watching the acceleration
		    //
		    function startWatch() {
		
		        // Update acceleration every 3 seconds
		        var options = { frequency: 3000 };
		
		        watchID = navigator.accelerometer.watchAcceleration(onSuccess, onError, options);
		    }
		
		    // Stop watching the acceleration
		    //
		    function stopWatch() {
		        if (watchID) {
		            navigator.accelerometer.clearWatch(watchID);
		            watchID = null;
		        }
		    }
		
		    // onSuccess: Get a snapshot of the current acceleration
		    //
		    function onSuccess(acceleration) {
		        var element = document.getElementById('accelerometer');
		        element.innerHTML = 'Acceleration X: '	+ acceleration.x + '<br />' +
									'Acceleration Y: '	+ acceleration.y + '<br />' +
									'Acceleration Z: '	+ acceleration.z + '<br />' +
									'Timestamp: '		+ acceleration.timestamp + '<br />';
		    }
		
		    // onError: Failed to get the acceleration
		    //
		  function onError() {
		        alert('onError!');
		    }
		</script>
			
	</div>
</body>	